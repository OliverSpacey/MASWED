<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mary and Sam's Wedding information</title>
    <script>
        // Function to read cookies
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            console.log(value);
            const parts = value.split(`; ${name}=`);
            console.log(parts);
            if (parts.length > 0) return true;
            return false;
        }

        // Redirect early based on logged-in status
        (function() {
            const loggedIn = getCookie('isLoggedIn');
            console.log(loggedIn);
            if (!loggedIn) {
                window.location.href = '/login'; // Redirect to login if no valid login cookie
            }
        })();
    </script>
</head>

<header>
    <h1>Mary and Sam's Wedding</h1>
    <!-- Generic Links for all guests -->
    <div class = "nav-bar">
        <a class = "nav-item" href="/">Home<span class="leaf"></span></a>
        <a class = "nav-item" href="/guest-information/">Guest Information<span class = "leaf"></span></a>
        <a class = "nav-item" href="/venue-information/">Venue Information<span class = "leaf"></span></a>
        <a class = "nav-item" href="/gifts/">Gifts<span class = "leaf"></span></a>
        <a class = "nav-item" href="/RSVP-form/">RSVP Form<span class = "leaf"></span></a>
        <a class = "nav-item" href="/contact/">Contact Us<span class = "leaf"></span></a>


        <!-- Links for groomsmen, bridesmaids -->
        <div class = "special" style="display: none;">
            <div class = "bm" style="display: none;">
                <a href="/bridal-party/">Bridal Party Information</a>
            </div>
            <div class = "gm" style="display: none;">
                <a href="/grooms-party/">Groom's Party Information</a>
            </div>
        </div>
    </div>

    <div class = "plant">
        <!-- grow plants here -->
        <span class = "leaf"></span>
    </div>

    <!-- add js scripts -->
    <!-- <script src="../js/passcodeCheck.js"></script> -->
    <script src="../js/loadLogin.js"></script>
    <script>
        window.addEventListener('load', function() {
          // Find the .plant element and add the 'grow' class to trigger the animation
          const plant = document.querySelector('.plant');
          plant.classList.add('grow');
        });
      </script>
      
    <style src="../stylesheets/home.css"></style>
    <link rel="stylesheet" href="/stylesheets/home.css">
</header>

<body>
    <div class = "para">
        <p>Welcome! In this website, you will find all relevant information for your role in the wedding of Mary Moylan and Sam Spacey.</p>
        <p class="guest">As a guest, ...</p>
        <div class="special">
            <p class="bm" style="display: none;">Additionally, as you are a bridesmaid, ...</p>
            <p class="gm" style="display: none;">Additionally, as you are a groomsman, ...</p>
        </div>
    </div>

    <p>If you are unsure how to access any of the information you feel you may need, please don't hesitate to contact the website administrator, via the 'Contact us' tab.</p>
</body>

<footer>
    <p>For any technical issues, please contact the website administrator.</p>
</footer>
</html>